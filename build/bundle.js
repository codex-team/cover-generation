<<<<<<< HEAD
var codex=codex||{};codex.cover=function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,o){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),i=function(){function t(){n(this,t)}return a(t,null,[{key:"make",value:function(t,e,o){var n=document.createElement(t);if(Array.isArray(e)){var a;(a=n.classList).add.apply(a,r(e))}else e&&n.classList.add(e);for(var i in o)n[i]=o[i];return n}},{key:"svg",value:function(t,e){var o=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)o.setAttributeNS(null,r,e[r]);return o}}]),t}();e.default=i},function(t,e,o){"use strict";t.exports=function(){o(2);var t=o(3),e=o(4).default,r=new e;return{init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.assert(e.containerId,"Container id is missed");var o=document.getElementById(e.containerId);if(!o)return void console.warn("Container was not found by id %o",e.containerId);var n=t.create(o);r.prepare({editor:n.editor,canvas:n.canvas}),console.log("toolbarInstance: %o",r)},destroy:function(){},toolbar:r}}()},function(t,e){},function(t,e,o){"use strict";t.exports=function(){function t(){return l.canvasWrapper=s.make("div",c.canvasWrapper),l.canvas=s.svg("svg",{width:"100%",height:"100%"}),l.mainRectangle=s.svg("rect",{width:"100%",height:"100%",fill:"#FFFFFF"}),l.canvas.classList.add(c.canvas),l.canvas.appendChild(l.mainRectangle),l.canvasWrapper.appendChild(l.canvas),l.canvasWrapper}function e(){console.log("saveButtonClicked")}function r(t){var e=t.target,o=e.dataset.size;console.log("resize to: %o",o)}function n(t){var e=t.target,o=e.dataset.object;console.log("toggle: %o",o),codex.cover.toolbar.openNear({target:e})}function a(){l.controls.saveButton.addEventListener("click",e),l.controls.resizeSqure.addEventListener("click",r),l.controls.resizeVertical.addEventListener("click",r),l.controls.resizeHorisontal.addEventListener("click",r),l.controls.pictureButton.addEventListener("click",n),l.controls.mainTextButton.addEventListener("click",n),l.controls.headlineButton.addEventListener("click",n)}function i(e){l.editor=s.make("div",c.editor);var o=s.make("div",c.controls),r=t();l.controls.resizeSqure=s.make("span",[c.resizeButton,c.resizeButtonSquare]),l.controls.resizeVertical=s.make("span",[c.resizeButton,c.resizeButtonVertical]),l.controls.resizeHorisontal=s.make("span",[c.resizeButton,c.resizeButtonHorisontal]),l.controls.saveButton=s.make("span",[c.controlButton,c.controlButtonSave]),l.controls.pictureButton=s.make("span",c.controlButton,{textContent:"Image"}),l.controls.mainTextButton=s.make("span",c.controlButton,{textContent:"Main Text"}),l.controls.headlineButton=s.make("span",c.controlButton,{textContent:"Headline"}),l.controls.resizeSqure.dataset.size="square",l.controls.resizeVertical.dataset.size="vertical",l.controls.resizeHorisontal.dataset.size="horisontal",l.controls.mainTextButton.dataset.object="mainText",l.controls.headlineButton.dataset.object="headline",l.controls.pictureButton.dataset.object="picture";for(var n in l.controls)o.appendChild(l.controls[n]);return l.editor.appendChild(o),l.editor.appendChild(r),e.appendChild(l.editor),a(),l}var s=o(0).default,c={editor:"cover-editor",controls:"cover-editor__controls",resizeButton:"cover-editor__resize-canvas",resizeButtonActive:"cover-editor__resize-canvas--active",resizeButtonSquare:"cover-editor__resize-canvas--square",resizeButtonVertical:"cover-editor__resize-canvas--vertical",resizeButtonHorisontal:"cover-editor__resize-canvas--horisontal",controlButton:"cover-editor__control-button",controlButtonSave:"cover-editor__control-button--save",canvasWrapper:"cover-editor__canvas-wrapper",canvas:"cover-editor__canvas"},l={editor:null,canvasWrapper:null,canvas:null,mainRectangle:null,controls:{resizeSqure:null,resizeVertical:null,resizeHorisontal:null,saveButton:null,pictureButton:null,mainTextButton:null,headlineButton:null}};return{create:i}}()},function(t,e,o){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,o,r){return o&&t(e.prototype,o),r&&t(e,r),e}}(),a=o(0).default,i=function(){function t(){r(this,t),this.target=null,this.tree={toolbar:void 0,buttons:{fontSize:void 0,left:void 0,center:void 0,right:void 0,color:void 0},colorForm:void 0},this.CSS={hidden:"cover-editor__hidden",toolbar:{colorMode:"cover-editor__toolbar--color_mode",normal:"cover-editor__toolbar"},target:{active:"cover-editor__text--active",fontSize:["cover-editor__text--small","cover-editor__text--medium","cover-editor__text--big"]},button:"cover-editor__toolbar-button",buttons:{active:"cover-editor__toolbar-button--active",left:"cover-editor__toolbar-button--left",center:"cover-editor__toolbar-button--center",right:"cover-editor__toolbar-button--right",fontSize:"cover-editor__toolbar-button--font-size",fontSizes:{small:"cover-editor__toolbar-button--small",medium:"cover-editor__toolbar-button--medium",big:"cover-editor__toolbar-button--big"},color:"cover-editor__toolbar-button--color"},colorForm:"cover-editor__toolbar-input--color-form"}}return n(t,[{key:"prepare",value:function(t){this.editor=t.editor,this.make()}},{key:"make",value:function(){var t=this;this.tree.toolbar=a.make("div",[this.CSS.toolbar.normal]),["fontSize","left","center","right","color"].forEach(function(e){var o=a.make("span",[t.CSS.button,t.CSS.buttons[e]]);t.tree.toolbar.appendChild(o),t.tree.buttons[e]=o,o.dataset.action=e,o.addEventListener("click",function(e){t.buttonClicked(e)})}),this.tree.colorForm=a.make("input",[this.CSS.colorForm]),this.tree.toolbar.insertBefore(this.tree.colorForm,this.tree.buttons.color),this.editor.appendChild(this.tree.toolbar)}},{key:"buttonClicked",value:function(t){var e=t.target,o=e.dataset.action;switch(console.log("clicked: %o",o),o){case"fontSize":this.changeFontSize();break;case"left":case"center":case"right":this.changeAlignment(o);break;case"color":this.changeColorMode()}}},{key:"changeFontSize",value:function(t){this.target.classList.remove(this.CSS.target.fontSize[this.target.dataset.fontSize]),this.tree.toolbar.classList.remove(this.CSS.toolbar.fontSize[this.target.dataset.fontSize]),this.tree.target.dataset.fontSize=t,this.target.classList.add(this.CSS.target.fontSize[this.target.dataset.fontSize]),this.tree.toolbar.classList.add(this.CSS.toolbar.fontSize[this.target.dataset.fontSize]),console.log("changeFontSize: %o")}},{key:"changeAlignment",value:function(t){var e=this;switch(this.target.dataset.alignment=t,["left","center","right"].forEach(function(t){e.tree.buttons[t].classList.remove(e.CSS.toolbar.buttons.active)}),t){case"left":this.tree.buttons.left.classList.add(this.CSS.toolbar.buttons.active);break;case"center":this.tree.buttons.center.classList.add(this.CSS.toolbar.buttons.active);break;case"right":this.tree.buttons.right.classList.add(this.CSS.toolbar.buttons.active)}console.log("alignment: %o",t)}},{key:"changeColor",value:function(t){this.target.style.color=t,this.target.dataset.color=t,this.tree.buttons.color.style.background=t}},{key:"changeColorMode",value:function(){this.tree.toolbar.classList.contains(this.CSS.toolbar.colorMode)?(this.changeColor(this.tree.colorForm.value),this.tree.toolbar.classList.remove(this.CSS.toolbar.colorMode)):this.tree.toolbar.classList.add(this.CSS.toolbar.colorMode),console.log("openColorForm: %o")}},{key:"moveToTarget",value:function(){var t=this.editor.getBoundingClientRect(),e=this.target.getBoundingClientRect();this.tree.toolbar.style.left=e.left-t.left+(e.clientWidth-this.tree.toolbar.clientWidth)/2+"px",this.tree.toolbar.style.top=e.top-t.top-this.tree.controllable.clientHeight-10+"px"}},{key:"getTargetParams",value:function(){void 0==this.target.dataset.fontSize&&(this.target.dataset.fontSize=0),this.changeFontSize(this.target.dataset.fontSize),void 0==this.target.dataset.alignment&&(this.target.dataset.alignment="left"),this.changeAlignment(this.target.dataset.alignment),void 0==this.target.dataset.color&&(this.target.dataset.color="#000000"),this.changeColor(this.target.dataset.color)}},{key:"openNear",value:function(t){var e=t.target;this.target=e,this.moveToTarget(),this.getTargetParams(),this.tree.toolbar.classList.remove(this.CSS.hidden),console.log("now we need to open toolbar near: %o",this.target)}},{key:"removeTargetParams",value:function(){this.target.classList.add(this.CSS.target.fontSize[this.target.dataset.fontSize]),this.tree.toolbar.classList.add(this.CSS.toolbar.fontSize[this.target.dataset.fontSize]),this.tree.buttons.left.classList.remove(this.CSS.toolbar.buttons.active),this.tree.buttons.center.classList.remove(this.CSS.toolbar.buttons.active),this.tree.buttons.right.classList.remove(this.CSS.toolbar.buttons.active)}},{key:"hide",value:function(){this.removeTargetParams(),this.target=null,this.tree.toolbar.classList.add(this.CSS.hidden)}}]),t}();e.default=i}]);
=======
var codex=codex||{};codex.cover=function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,o){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),i=function(){function e(){r(this,e)}return a(e,null,[{key:"make",value:function(e,t,o){var r=document.createElement(e);if(Array.isArray(t)){var a;(a=r.classList).add.apply(a,n(t))}else t&&r.classList.add(t);for(var i in o)r[i]=o[i];return r}},{key:"svg",value:function(e,t){var o=document.createElementNS("http://www.w3.org/2000/svg",e);for(var n in t)o.setAttributeNS(null,n,t[n]);return o}}]),e}();t.default=i},function(e,t,o){"use strict";e.exports=function(){o(2);var e=o(3),t=o(4).default,n=new t;return{init:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.assert(t.containerId,"Container id is missed");var o=document.getElementById(t.containerId);if(!o)return void console.warn("Container was not found by id %o",t.containerId);var r=e.create(o);n.prepare({editor:r.editor,canvas:r.canvas}),console.log("toolbarInstance: %o",n)},destroy:function(){},toolbar:n}}()},function(e,t){},function(e,t,o){"use strict";e.exports=function(){function e(){return s.canvasWrapper=c.make("div",l.canvasWrapper),s.canvas=c.svg("svg",{width:"100%",height:"100%"}),s.mainRectangle=c.svg("rect",{width:"100%",height:"100%",fill:"#FFFFFF"}),s.canvas.classList.add(l.canvas),s.canvas.appendChild(s.mainRectangle),s.canvasWrapper.appendChild(s.canvas),s.canvasWrapper}function t(){console.log("saveButtonClicked")}function n(e){var t=e.target,o=t.dataset.size;console.log("resize to: %o",o)}function r(e){var t=e.target,o=t.dataset.object;console.log("toggle: %o",o),codex.cover.toolbar.openNear({target:t})}function a(){s.controls.saveButton.addEventListener("click",t),s.controls.resizeSqure.addEventListener("click",n),s.controls.resizeVertical.addEventListener("click",n),s.controls.resizeHorisontal.addEventListener("click",n),s.controls.pictureButton.addEventListener("click",r),s.controls.mainTextButton.addEventListener("click",r),s.controls.headlineButton.addEventListener("click",r)}function i(t){s.editor=c.make("div",l.editor);var o=c.make("div",l.controls),n=e();s.controls.resizeSqure=c.make("span",[l.resizeButton,l.resizeButtonSquare]),s.controls.resizeVertical=c.make("span",[l.resizeButton,l.resizeButtonVertical]),s.controls.resizeHorisontal=c.make("span",[l.resizeButton,l.resizeButtonHorisontal]),s.controls.saveButton=c.make("span",[l.controlButton,l.controlButtonSave]),s.controls.pictureButton=c.make("span",l.controlButton,{textContent:"Image"}),s.controls.mainTextButton=c.make("span",l.controlButton,{textContent:"Main Text"}),s.controls.headlineButton=c.make("span",l.controlButton,{textContent:"Headline"}),s.controls.resizeSqure.dataset.size="square",s.controls.resizeVertical.dataset.size="vertical",s.controls.resizeHorisontal.dataset.size="horisontal",s.controls.mainTextButton.dataset.object="mainText",s.controls.headlineButton.dataset.object="headline",s.controls.pictureButton.dataset.object="picture";for(var r in s.controls)o.appendChild(s.controls[r]);return s.editor.appendChild(o),s.editor.appendChild(n),t.appendChild(s.editor),a(),s}var c=o(0).default,l={editor:"cover-editor",controls:"cover-editor__controls",resizeButton:"cover-editor__resize-canvas",resizeButtonActive:"cover-editor__resize-canvas--active",resizeButtonSquare:"cover-editor__resize-canvas--square",resizeButtonVertical:"cover-editor__resize-canvas--vertical",resizeButtonHorisontal:"cover-editor__resize-canvas--horisontal",controlButton:"cover-editor__control-button",controlButtonSave:"cover-editor__control-button--save",canvasWrapper:"cover-editor__canvas-wrapper",canvas:"cover-editor__canvas"},s={editor:null,canvasWrapper:null,canvas:null,mainRectangle:null,controls:{resizeSqure:null,resizeVertical:null,resizeHorisontal:null,saveButton:null,pictureButton:null,mainTextButton:null,headlineButton:null}};return{create:i}}()},function(e,t,o){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o(0).default,i=function(){function e(){n(this,e),this.target=null,this.tree={toolbar:void 0,buttons:{fontSize:void 0,left:void 0,center:void 0,right:void 0,color:void 0},colorForm:void 0},this.CSS={hidden:"cover-editor__hidden",toolbar:{colorMode:"cover-editor__toolbar--color_mode",normal:"cover-editor__toolbar"},controllable:{active:"cover-editor__text--active",fontSize:["cover-editor__text--small","cover-editor__text--medium","cover-editor__text--big"]},button:"cover-editor__toolbar-button",buttons:{active:"cover-editor__toolbar-button--active",left:"cover-editor__toolbar-button--left",center:"cover-editor__toolbar-button--center",right:"cover-editor__toolbar-button--right",fontSize:"cover-editor__toolbar-button--font-size",fontSizes:{small:"cover-editor__toolbar-button--small",medium:"cover-editor__toolbar-button--medium",big:"cover-editor__toolbar-button--big"},color:"cover-editor__toolbar-button--color"},colorForm:"cover-editor__toolbar-color-form"}}return r(e,[{key:"prepare",value:function(e){this.editor=e.editor,this.make()}},{key:"make",value:function(){var e=this;this.tree.toolbar=a.make("div",[this.CSS.toolbar.normal]),["fontSize","left","center","right","color"].forEach(function(t){var o=a.make("span",[e.CSS.button,e.CSS.buttons[t]]);e.tree.toolbar.appendChild(o),e.tree.buttons[t]=o,o.dataset.action=t,o.addEventListener("click",function(t){e.buttonClicked(t)})}),this.editor.appendChild(this.tree.toolbar)}},{key:"buttonClicked",value:function(e){var t=e.target,o=t.dataset.action;switch(console.log("clicked: %o",o),o){case"fontSize":this.changeFontSize();break;case"left":case"center":case"right":this.changeAlignment(o);break;case"color":this.openColorForm()}}},{key:"changeFontSize",value:function(){console.log("changeFontSize: %o")}},{key:"changeAlignment",value:function(e){console.log("alignment: %o",e)}},{key:"openColorForm",value:function(){console.log("openColorForm: %o")}},{key:"openNear",value:function(e){var t=e.target;this.target=t,console.log("now we need to open toolbar near: %o",this.target)}},{key:"hide",value:function(){this.target=null}}]),e}();t.default=i}]);
>>>>>>> 91acf4e542fd530bfe2f0de8d239f691691ff7be
