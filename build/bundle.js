var codex=codex||{};codex.cover=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){o(this,t)}return a(t,null,[{key:"make",value:function(t,e,n){var o=document.createElement(t);if(Array.isArray(e)){var a;(a=o.classList).add.apply(a,r(e))}else e&&o.classList.add(e);for(var i in n)o[i]=n[i];return o}},{key:"svg",value:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg",t);for(var r in e)n.setAttributeNS(null,r,e[r]);return n}}]),t}();e.default=i},function(t,e,n){"use strict";t.exports=function(){n(2);var t=n(3),e=n(4).default;return{init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};console.assert(n.containerId,"Container id is missed");var r=document.getElementById(n.containerId);if(!r)return void console.warn("Container was not found by id %o",n.containerId);var o=t.create(r);new e({canvas:o.canvas})},destroy:function(){}}}()},function(t,e){},function(t,e,n){"use strict";t.exports=function(){function t(){l%2==0?(u.canvasWrapper.classList.add(c.canvasActive),l++):(u.canvasWrapper.classList.remove(c.canvasActive),l--),console.log("canvasActive")}function e(){console.log("saveButtonClicked")}function r(t){var e=t.target,n=e.dataset.size;console.log("resize to: %o",n)}function o(t){var e=t.target,n=e.dataset.object;console.log("toggle: %o",n)}function a(){u.canvasWrapper.addEventListener("click",t),u.controls.saveButton.addEventListener("click",e),u.controls.resizeSqure.addEventListener("click",r),u.controls.resizeVertical.addEventListener("click",r),u.controls.resizeHorisontal.addEventListener("click",r),u.controls.pictureButton.addEventListener("click",o),u.controls.mainTextButton.addEventListener("click",o),u.controls.headlineButton.addEventListener("click",o)}function i(t,e){var n=s.make("div",c.editor),r=s.make("div",c.controls);u.canvasWrapper=s.make("div",c.canvasWrapper),u.controls.resizeSqure=s.make("span",[c.resizeButton,c.resizeButtonSquare]),u.controls.resizeVertical=s.make("span",[c.resizeButton,c.resizeButtonVertical]),u.controls.resizeHorisontal=s.make("span",[c.resizeButton,c.resizeButtonHorisontal]),u.controls.saveButton=s.make("span",[c.controlButton,c.controlButtonSave]),u.controls.pictureButton=s.make("span",c.controlButton,{textContent:"Image"}),u.controls.mainTextButton=s.make("span",c.controlButton,{textContent:"Main Text"}),u.controls.headlineButton=s.make("span",c.controlButton,{textContent:"Headline"}),u.controls.resizeSqure.dataset.size="square",u.controls.resizeVertical.dataset.size="vertical",u.controls.resizeHorisontal.dataset.size="horisontal",u.controls.mainTextButton.dataset.object="mainText",u.controls.headlineButton.dataset.object="headline",u.controls.pictureButton.dataset.object="picture";for(var o in u.controls)r.appendChild(u.controls[o]);return n.appendChild(r),n.appendChild(e.create(u.canvasWrapper)),t.appendChild(n),a(),u}var s=n(0).default,c={editor:"cover-editor",controls:"cover-editor__controls",resizeButton:"cover-editor__resize-canvas",resizeButtonActive:"cover-editor__resize-canvas--active",resizeButtonSquare:"cover-editor__resize-canvas--square",resizeButtonVertical:"cover-editor__resize-canvas--vertical",resizeButtonHorisontal:"cover-editor__resize-canvas--horisontal",controlButton:"cover-editor__control-button",controlButtonSave:"cover-editor__control-button--save",canvasWrapper:"cover-editor__canvas-wrapper",canvas:"cover-editor__canvas",canvasActive:"cover-editor__canvas-wrapper--active"},u={canvasWrapper:null,canvas:null,mainRectangle:null,controls:{resizeSqure:null,resizeVertical:null,resizeHorisontal:null,saveButton:null,pictureButton:null,mainTextButton:null,headlineButton:null}},l=0;return{create:i}}()},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){r(this,t)}return o(t,[{key:"init",value:function(t){this.$=n(0).default,this.tree={svg:null},this.formats={portrait:{width:510,height:560},album:{width:650,height:370},square:{width:510,height:510}},this.positions={mainText:{x:void 0,y:271},headline:{x:void 0,y:132}},this.tree.svg=t.canvas,this.tree.svg.setAttribute("viewBox","0 0 512 512"),t.shape instanceof String?this.setCanvasFormat(arguments[1]):t.shape instanceof Object&&this.setSize(this.tree.svg,t.shape.width,t.shape.height)}},{key:"create",value:function(t){return this.svg=this.$.svg("svg"),this.setCanvasFormat("album"),this.svg}},{key:"setCanvasFormat",value:function(t){this.setSize(this.tree.svg,this.formats[t])}},{key:"setSize",value:function(t,e){t.setAttribute("height",e.height),t.setAttribute("width",e.width)}},{key:"setPosition",value:function(t,e){e=void 0==e.y?this.positions[e]:e,t.setAttribute("y",e.y),e.x&&t.setAttribute("x",e.x)}},{key:"setAlign",value:function(t,e){"left"==e&&this.setPosition()}},{key:"createText",value:function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","foreignObject"),n=document.createElement("div");return n.setAttribute("contenteditable","true"),e.appendChild(n),this.setPosition(e,t),this.setSize(e,{width:100,height:10}),this.tree.svg.appendChild(e),n}}]),t}();e.default=a}]);